{% extends 'base.html.twig' %}

{% block title %}Tecmalaga SL
{% endblock %}

{% block body %}{% endblock %}

{% block main %}
	{% for backgroundImage in backgroundImagesCollection %}
		{% if backgroundImage.title == "Section-1" %}
			<section id="home" class="section-1 row justify-content-center align-items-center" style="background-image: url({{ asset('images/' ~ backgroundImage.image.fileName) }});">
			{% endif %}
		{% endfor %}
		<article class="article-1">
			<span>TECMALAGA</span>
		</article>
	</section>
	<section id="acercade" class="section-2 grid-block grid-gap font-resize">
		<article class="article-1">
			<div>
				{% for text in textCollection %}
					{% if text.section == "Section-2-title" %}
						<h3>{{ text.text }}</h2>
					{% endif %}
				{% endfor %}
			</div>
			<div>
				{% for text in textCollection %}
					{% if text.section == "Section-2-column-1" %}
						<p>{{ text.text }}</p>
					{% endif %}
				{% endfor %}
			</div>
		</article>
		<article class="article-2">
			<div class="slider-column">
				<div>
					{% if sliderCollection is empty %}
						<img src="{{ asset('images/' ~ "no_image.jpg") }}" alt="Sheep">
					{% else %}
						<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
							<div class="carousel-inner">
								{% for slider in sliderCollection %}
									{% if loop.index-1 == 0 %}
										<div class="carousel-item active">
											<img class="d-block w-100" src="{{ asset('images/' ~ slider.image.fileName) }}" alt="">
										</div>
									{% else %}
										<div class="carousel-item">
											<img class="d-block w-100" src="{{ asset('images/' ~ slider.image.fileName) }}" alt="">
										</div>
									{% endif %}
								{% endfor %}
							</div>
							<a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
								<span class="carousel-control-prev-icon" aria-hidden="true"></span>
								<span class="sr-only">Previous</span>
							</a>
							<a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
								<span class="carousel-control-next-icon" aria-hidden="true"></span>
								<span class="sr-only">Next</span>
							</a>
						</div>
					{% endif %}
				</div>
			</div>
		</article>
		<article class="article-3">
			<div>
				{% for text in textCollection %}
					{% if text.section == "Section-2-column-2" %}
						<p>{{ text.text }}</p>
					{% endif %}
				{% endfor %}
			</div>
		</article>
	</section>
	<section class="section-3">
		<article class="article-1">
			{% for text in textCollection %}
				{% if text.section == "Section-3-title" %}
					<p>{{ text.text }}</p>
				{% endif %}
			{% endfor %}
		</article>
		<article class="article-2">
			{% for text in textCollection %}
				{% if text.section == "Section-3-p-1" %}
					<h2>{{ text.text }}</h2>
				{% endif %}
			{% endfor %}
			{% for text in textCollection %}
				{% if text.section == "Section-3-p-2" %}
					<p>{{ text.text }}</p>
				{% endif %}
			{% endfor %}
		</article>
	</section>
	{% for backgroundImage in backgroundImagesCollection %}
		{% if backgroundImage.title == "Section-4" %}
			<section class="section-4 row justify-content-center align-items-center" style="background-image: url({{ asset('images/' ~ backgroundImage.image.fileName) }});">
			{% endif %}
		{% endfor %}
		<article class="article-1">
			<span>PRODUCTOS</span>
		</article>
	</section>
	<section id="productos" class="section-5 container-fluid">
		<article class="article-1 row justify-content-center">
			<div class="prev row justify-content-center align-items-center col-12 col-sm-12 col-md-1" id="prev">
				<i class="fas fa-chevron-circle-left"></i>
			</div>
			{% for ProductCollection in chunkedProductCollection %}
				<div class="div-container mySlides row col-10">
					{% for product in ProductCollection %}
						<div class="div-{{loop.index}} col-12 col-sm-12 col-md-6 col-lg-4 margin-between-rows">
							<div class="card container-fluid padding-one">
								{% if product.images is empty %}
									<img src="{{ asset('images/' ~ "no_image.jpg") }}" alt="Sheep">
								{% else %}
									<div id="carouselExampleControlsProducts" class="carousel slide" data-ride="carousel">
										<div class="carousel-inner">
											{% for image in product.images %}
												{% if loop.index-1 == 0 %}
													<a href="{{ path('app_product_initial_show', {'id': product.id}) }}">
														<div class="carousel-item active">
															<img class="d-block w-100" src="{{ asset('images/' ~ image.fileName) }}" alt="">
														</div>
													</a>
												{% else %}
													<a href="{{ path('app_product_initial_show', {'id': product.id}) }}">
														<div class="carousel-item">
															<img class="d-block w-100" src="{{ asset('images/' ~ image.fileName) }}" alt="">
														</div>
													</a>
												{% endif %}
											{% endfor %}
										</div>
									</div>
									<div class="card-body">
										<h4 class="card-title">
											<a href="{{ path('app_product_initial_show', {'id': product.id}) }}">
												{{ product.name }}
											</a>
										</h4>
										<p class="card-text">
											{{ product.description }}
										</p>
									</div>
								{% endif %}
							</div>
						</div>
					{% endfor %}
				</div>
			{% endfor %}
			<div class="next row justify-content-center align-items-center col-12 col-sm-12 col-md-1" id="next">
				<i class="fas fa-chevron-circle-right"></i>
			</div>
		</article>
	</section>
	{% for backgroundImage in backgroundImagesCollection %}
		{% if backgroundImage.title == "Section-6" %}
			<section class="section-6 row justify-content-center align-items-center" style="background-image: url({{ asset('images/' ~ backgroundImage.image.fileName) }});">
			{% endif %}
		{% endfor %}
		<article class="article-1">
			<span>CONTACTO</span>
		</article>
	</section>
	<section id="contacto" class="section-7 grid-block grid-gap">
		<article class="article-1">
			{% for text in textCollection %}
				{% if text.section == "Section-7-title" %}
					<h2>{{ text.text }}</h2>
				{% endif %}
			{% endfor %}
		</article>
		<article class="article-2" style="--aspect-ratio: 16/9;">
			<iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d1595.1783340165891!2d-4.3710515!3d36.9057358!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd7260458eb036c5%3A0x9c3a30d8a052f0df!2sCalle%20Pedro%20Salinas%2C%203%2C%2029170%20Colmenar%2C%20M%C3%A1laga!5e0!3m2!1sen!2ses!4v1574862490368!5m2!1sen!2ses" width="600" height="450" frameborder="0" style="border:0;" allowfullscreen=""></iframe>
		</article>
		<article class="article-3 font-resize container-fluid">
			{% for id, element in footerCollection %}
				{% if element.visibility == true and element.position == 'Contact' and id == 10 %}
					<div class="row">
						<i class="fa fa-map-marker row justify-content-center align-items-center col-2"></i>
						<p class="col-10">{{ element.value }}</p>
					</div>
				{% endif %}

				{% if element.visibility == true and element.position == 'Contact' and id == 11 %}
					<div class="row">
						<i class="fa fa-phone row justify-content-center align-items-center col-2"></i>
						<p class="col-10">{{ element.value }}</p>
					</div>
				{% endif %}

				{% if element.visibility == true and element.position == 'Contact' and id == 12 %}
					<div class="row">
						<i class="fa fa-envelope row justify-content-center align-items-center col-2"></i>
						<p class="col-10">{{ element.value }}</p>
					</div>
				{% endif %}
			{% endfor %}
		</div>
	</article>
</section>
<footer class="footer grid-block grid-gap">
	<article class="article-1">
		{% for text in textCollection %}
			{% if text.section == "Footer-column-1" %}
				<h2>{{ text.text }}</h2>
			{% endif %}
		{% endfor %}
		{% for element in footerCollection %}
			{% if element.visibility == true and element.position == 'Tecmalaga' %}
				<p>{{ element.value }}</p>
			{% endif %}
		{% endfor %}
		<div class="row col-4 container-fluid">
			<a href="#home" class="row">
				<i class="fa fa-arrow-up"></i>
				<p>Parte superior</p>
			</a>
		</div>
	</article>
	<article class="article-2">
		{% for text in textCollection %}
			{% if text.section == "Footer-column-2" %}
				<h2>{{ text.text }}</h2>
			{% endif %}
		{% endfor %}
		{% for element in footerCollection %}
			{% if element.visibility == true and element.position == 'Data' %}
				<p>{{ element.value }}</p>
			{% endif %}
		{% endfor %}
	</article>
</footer>{% endblock %}
